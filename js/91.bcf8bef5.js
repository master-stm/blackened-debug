"use strict";(self["webpackChunkblackened"]=self["webpackChunkblackened"]||[]).push([[91],{1150:(e,t,i)=>{i.d(t,{Z:()=>_});var l=i(3673),a=i(2323);const o=e=>((0,l.dD)("data-v-b9648740"),e=e(),(0,l.Cn)(),e),d={class:"col-5 item-box"},s={class:"text-h6"},n=o((()=>(0,l._)("label",null," Calories ",-1)));function c(e,t,i,o,c,r){const m=(0,l.up)("q-card-section"),u=(0,l.up)("q-btn"),p=(0,l.up)("q-card-actions"),b=(0,l.up)("q-card"),h=(0,l.up)("q-input"),w=(0,l.up)("q-dialog"),f=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",d,[(0,l.Wm)(b,{class:"my-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l._)("div",s,(0,a.zw)(i.item.label),1)])),_:1}),(0,l.Wm)(p,{align:"right"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.item.actions,((e,t)=>((0,l.wg)(),(0,l.j4)(u,{key:t,color:e.color?e.color:"secondary",icon:e.icon?e.icon:"arrow_right",onClick:t=>r.handleAction(e.action)},null,8,["color","icon","onClick"])))),128))])),_:1})])),_:1})]),(0,l.Wm)(w,{modelValue:c.showEditDialog,"onUpdate:modelValue":t[5]||(t[5]=e=>c.showEditDialog=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"row items-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:c.editObject.name,"onUpdate:modelValue":t[0]||(t[0]=e=>c.editObject.name=e),type:"text",label:"name"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(m,{class:"row items-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:c.editObject.details,"onUpdate:modelValue":t[1]||(t[1]=e=>c.editObject.details=e),type:"text",label:"details"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(m,{class:"row items-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:c.editObject.price,"onUpdate:modelValue":t[2]||(t[2]=e=>c.editObject.price=e),type:"number",label:"price"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(m,{class:"row items-center"},{default:(0,l.w5)((()=>[n,(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,{modelValue:c.editObject.calories.from,"onUpdate:modelValue":t[3]||(t[3]=e=>c.editObject.calories.from=e),type:"number",label:"from"},null,8,["modelValue"]),(0,l.Wm)(h,{modelValue:c.editObject.calories.to,"onUpdate:modelValue":t[4]||(t[4]=e=>c.editObject.calories.to=e),type:"number",label:"to"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(p,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(u,{flat:"",label:"Cancel",color:"primary"},null,512),[[f]]),(0,l.Wm)(u,{onClick:r.editSubscription,flat:"",label:"confirm",color:"primary"},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var r=i(6940);const m={name:"admin item card",props:["item"],emits:["add","delete","edit"],data(){return{subscriptionObject:{calories:{to:0,from:0},details:null,name:null,price:0},showEditDialog:!1,editObject:{calories:{to:0,from:0},details:null,name:null,price:0}}},methods:{async handleAction(e){if("delete"===e)await(0,r.SR)(this.$props.item.db,this.$props.item.id),this.$emit("delete",this.$props.item.id);else if("edit"===e){let e=await(0,r.gM)(this.$props.item.db,this.$props.item.id);this.editObject={...e.data()},this.showEditDialog=!0}else this.$router.push({name:e})},async AddSubscription(){try{let e=await(0,r.Id)(this.$props.item.db,this.subscriptionObject);this.$emit("add",{...this.subscriptionObject,id:e.id,db:this.$props.item.db}),this.showAddDialog=!1}catch(e){console.log(e)}},async editSubscription(){try{await(0,r.VA)(this.$props.item.db,this.$props.item.id,this.editObject),this.$emit("edit",{...this.editObject,id:this.$props.item.id,db:this.$props.item.db}),this.showEditDialog=!1}catch(e){console.log(e)}}}};var u=i(4260),p=i(151),b=i(5589),h=i(9367),w=i(8240),f=i(5926),g=i(4842),j=i(677),V=i(7518),y=i.n(V);const W=(0,u.Z)(m,[["render",c],["__scopeId","data-v-b9648740"]]),_=W;y()(m,"components",{QCard:p.Z,QCardSection:b.Z,QCardActions:h.Z,QBtn:w.Z,QDialog:f.Z,QInput:g.Z}),y()(m,"directives",{ClosePopup:j.Z})},5091:(e,t,i)=>{i.r(t),i.d(t,{default:()=>p});var l=i(3673);function a(e,t,i,a,o,d){const s=(0,l.up)("AdminItemsCard"),n=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(n,{padding:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.tabs,((e,t)=>((0,l.wg)(),(0,l.j4)(s,{key:t,item:e,onAdd:d.addSubscription,onDelete:d.removeSubscription,onEdit:d.editSubscription},null,8,["item","onAdd","onDelete","onEdit"])))),128))])),_:1})}var o=i(1150),d=i(6940);const s={name:"subscriptions-management",components:{AdminItemsCard:o.Z},async created(){let e=await(0,d.Yu)("packages");e.forEach((e=>{this.tabs.push({id:e.id,db:"packages",label:e.name,actions:[{action:"edit",icon:"edit",color:"blue-4"},{action:"delete",icon:"delete",color:"red-4"}]})}))},data(){return{tabs:[]}},methods:{addSubscription(e){this.tabs.push({id:e.id,db:e.db,label:e.name,actions:[{action:"edit",icon:"edit",color:"blue-4"},{action:"delete",icon:"delete",color:"red-4"}]})},removeSubscription(e){this.tabs=this.tabs.filter((t=>t.id!==e))},editSubscription(e){this.tabs.forEach((t=>{t.id===e.id&&(t.label=e.name,t.db=e.db,t.id=e.id)}))}}};var n=i(4260),c=i(4379),r=i(7518),m=i.n(r);const u=(0,n.Z)(s,[["render",a]]),p=u;m()(s,"components",{QPage:c.Z})}}]);