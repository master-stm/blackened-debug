"use strict";(self["webpackChunkblackened"]=self["webpackChunkblackened"]||[]).push([[184],{8184:(e,a,t)=>{t.r(a),t.d(a,{default:()=>j});var l=t(3673),s=t(2323);function o(e,a,t,o,i,c){const r=(0,l.up)("q-tab"),n=(0,l.up)("q-tabs"),u=(0,l.up)("ProductCard"),m=(0,l.up)("q-scroll-area"),d=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(d,{padding:""},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{modelValue:e.tab,"onUpdate:modelValue":a[0]||(a[0]=a=>e.tab=a),class:"text-white"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.tabs,((e,a)=>((0,l.wg)(),(0,l.j4)(r,{key:a,name:e.title,icon:e.icon,label:e.label,onClick:a=>c.setTab(e.title),class:(0,s.C_)(this.currentTab===e.title?"current-tab":"")},null,8,["name","icon","label","onClick","class"])))),128))])),_:1},8,["modelValue"]),(0,l.Wm)(m,{style:{height:"83vh"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.subscriptions,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e.id,item:e},null,8,["item"])))),128))])),_:1})])),_:1})}const i={class:"q-ml-sm"},c={class:"q-ml-sm"},r=(0,l.Uk)("Confirm the purchase of "),n=(0,l.Uk)(" for ");function u(e,a,t,o,u,m){const d=(0,l.up)("q-item-label"),p=(0,l.up)("q-item-section"),w=(0,l.up)("q-btn"),h=(0,l.up)("q-space"),b=(0,l.up)("q-icon"),f=(0,l.up)("q-item"),g=(0,l.up)("q-card-section"),k=(0,l.up)("q-card-actions"),_=(0,l.up)("q-card"),C=(0,l.up)("q-dialog"),W=(0,l.Q2)("ripple"),P=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.wy)(((0,l.wg)(),(0,l.j4)(f,{class:"product-item"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{ref:"product"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"item-name"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.item.name),1)])),_:1}),(0,l.Wm)(d,{class:"item-price",caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.item.calories.from)+" - "+(0,s.zw)(t.item.calories.to)+" calories",1)])),_:1}),(0,l.Wm)(d,{class:"item-price",caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.item.price)+" KD",1)])),_:1})])),_:1},512),(0,l.Wm)(p,{side:"",top:""},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{flat:"",dense:"",color:"white",icon:"more",onClick:a[0]||(a[0]=e=>u.showMore=!0)}),(0,l.Wm)(h),(0,l.Wm)(b,{flat:"",dense:"",color:"white",name:"shopping_basket",onClick:m.confirmPurchase},null,8,["onClick"])])),_:1})])),_:1})),[[W]]),(0,l.Wm)(C,{modelValue:u.showMore,"onUpdate:modelValue":a[1]||(a[1]=e=>u.showMore=e),style:{background:"rgba(255, 255, 255, 0.3)"}},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{dark:"",class:"details"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"row items-center"},{default:(0,l.w5)((()=>[(0,l._)("span",i,(0,s.zw)(t.item.details),1)])),_:1}),(0,l.Wm)(k,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(w,{outline:"",label:"ok",color:"white"},null,512),[[P]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(C,{modelValue:u.confirmPurchaseDialog,"onUpdate:modelValue":a[2]||(a[2]=e=>u.confirmPurchaseDialog=e),persistent:"",style:{background:"rgba(255, 255, 255, 0.3)"}},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{dark:"",class:"details"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"row items-center"},{default:(0,l.w5)((()=>[(0,l._)("span",c,[r,(0,l._)("strong",null,(0,s.zw)(t.item.name),1),n,(0,l._)("strong",null,(0,s.zw)(t.item.price)+" KD",1)])])),_:1}),(0,l.Wm)(k,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(w,{flat:"",label:"Cancel",color:"white"},null,512),[[P]]),(0,l.wy)((0,l.Wm)(w,{flat:"",label:"Confirm",color:"white",onClick:m.handlePurchase},null,8,["onClick"]),[[P]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var m=t(6940);const d={name:"product card",props:["item"],data(){return{showMore:!1,confirmPurchaseDialog:!1}},methods:{async confirmPurchase(){let e=await(0,m.ts)();e?this.confirmPurchaseDialog=!0:this.$router.push({name:"auth"})},handlePurchase(){this.$router.push({name:"payment-gateway",params:{item:JSON.stringify(this.item)}})}}};var p=t(4260),w=t(3414),h=t(2035),b=t(2350),f=t(8240),g=t(2025),k=t(4554),_=t(5926),C=t(151),W=t(5589),P=t(9367),y=t(6489),Z=t(677),q=t(7518),Q=t.n(q);const D=(0,p.Z)(d,[["render",u],["__scopeId","data-v-672b7ca0"]]),V=D;Q()(d,"components",{QItem:w.Z,QItemSection:h.Z,QItemLabel:b.Z,QBtn:f.Z,QSpace:g.Z,QIcon:k.Z,QDialog:_.Z,QCard:C.Z,QCardSection:W.Z,QCardActions:P.Z}),Q()(d,"directives",{Ripple:y.Z,ClosePopup:Z.Z});const v={name:"Subscriptions page",components:{ProductCard:V},created(){this.subscriptions=this.byPrice},methods:{setTab(e){this.currentTab=e,this.subscriptions="price"===e?this.byPrice:this.byCalories}},computed:{byPrice(){return this.localPackages.sort(((e,a)=>e.price-a.price))},byCalories(){return this.localPackages.sort(((e,a)=>e.calories.from-a.calories.from))}},data(){return{subscriptions:[],localPackages:JSON.parse(localStorage.getItem("packages")),currentTab:"price",tabs:[{title:"calories",icon:"fastfood",label:"Calories"},{title:"price",icon:"price_change",label:"Price"}]}}};var S=t(4379),U=t(7547),z=t(3269),I=t(1232);const T=(0,p.Z)(v,[["render",o],["__scopeId","data-v-280b4ba7"]]),j=T;Q()(v,"components",{QPage:S.Z,QTabs:U.Z,QTab:z.Z,QScrollArea:I.Z})}}]);